{"version":3,"sources":["components/Prefectures/styles.module.css","components/Fallback/styles.module.css","components/Prefecture/styles.module.css","components/Fallback/index.tsx","state/selectedPrefCodes.ts","service/ResasApiError.ts","state/resasApiService.ts","service/ResasApiService.ts","state/populations.ts","state/prefectures.ts","state/chartData.ts","utils/randomColor.ts","components/PopulationChart/index.tsx","components/Prefecture/index.tsx","components/Prefectures/index.tsx","App.tsx","serviceWorker.ts","index.tsx","App.module.css"],"names":["module","exports","Fallback","className","styles","fallback","selectedPrefCodesAtom","atom","key","default","ResasApiError","statusCode","description","Error","resasApiServiceAtom","apiKey","endpoint","get","apiPath","params","a","url","fetch","headers","response","status","json","resObj","prefectures","result","populationCompositionPerYear","prefCode","cityCode","addArea","URLSearchParams","append","String","map","area","join","populationSelectorFamily","selectorFamily","service","prefecturesSelector","selector","prefectureSelectorFamily","prefecture","find","pref","undefined","chartDataSelector","population","data","reduce","prev","current","forEach","populationPerYear","targetYear","preData","year","prefName","value","push","PopulationChart","chartData","useRecoilValue","ResponsiveContainer","width","aspect","LineChart","margin","top","right","left","bottom","CartesianGrid","strokeDasharray","XAxis","dataKey","YAxis","yAxisId","Tooltip","Legend","wrapperStyle","fontSize","Object","keys","d","Line","type","stroke","_","Math","floor","random","toString","Prefecture","memo","usePrefecture","toggle","useRecoilCallback","set","includes","filter","code","concat","useTogglePrefCodeSelected","selected","usePrefCodeIsSelected","root","data-is-selected","onClick","Prefectures","gridContainer","gridItem","App","container","chart","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.e63f4d45.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gridContainer\":\"styles_gridContainer__11aFi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fallback\":\"styles_fallback__3ISJS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__X0wV2\"};","import styles from \"./styles.module.css\";\n\nexport const Fallback: React.VFC = () => {\n  return <div className={styles.fallback}>loading...</div>;\n};\n","import { atom, useRecoilCallback, useRecoilValue } from \"recoil\";\n\nexport const selectedPrefCodesAtom = atom<number[]>({\n  key: \"selected prefCodes atom\",\n  default: [],\n});\n\nexport function usePrefCodeIsSelected(prefCode: number) {\n  return useRecoilValue(selectedPrefCodesAtom).includes(prefCode);\n}\n\nexport function useTogglePrefCodeSelected(prefCode: number) {\n  const toggle = useRecoilCallback(\n    ({ set }) => () => {\n      set(selectedPrefCodesAtom, prev => {\n        if (prev.includes(prefCode)) {\n          return prev.filter(code => code !== prefCode);\n        } else {\n          return prev.concat(prefCode);\n        }\n      });\n    },\n    [prefCode],\n  );\n\n  return toggle;\n}\n","export class ResasApiError extends Error {\n  constructor(public statusCode: number, public description: string) {\n    super(`${statusCode} : ${description}`);\n  }\n}\n","import { atom } from \"recoil\";\nimport { ResasApiService } from \"../service/ResasApiService\";\n\nexport const resasApiServiceAtom = atom({\n  key: \"resasApiService atom\",\n  default: new ResasApiService(\"25BO76EGI4g8ugQJGIAqzWk93rVrWVxZuxW02TJp\"),\n});\n","import { ResasApiError } from \"./ResasApiError\";\nimport { Prefecture, Population } from \"../models\";\n\nexport class ResasApiService {\n  private endpoint = \"https://opendata.resas-portal.go.jp\";\n\n  constructor(private apiKey: string) {}\n\n  get = async (apiPath: string, params?: URLSearchParams): Promise<any> => {\n    const url = params\n      ? `${this.endpoint}/${apiPath}?${params}`\n      : `${this.endpoint}/${apiPath}`;\n\n    const response = await fetch(url, { headers: { \"X-API-KEY\": this.apiKey } });\n\n    if (response.status >= 500 && response.status < 600) {\n      throw new ResasApiError(response.status, \"RESAS Server Error\");\n    }\n\n    const resObj = await response.json();\n\n    if (response.status === 429 || resObj === \"429\" || resObj.statusCode === \"429\") {\n      throw new ResasApiError(429, \"Too Many Requests\");\n    }\n\n    if (resObj === \"400\") {\n      throw new ResasApiError(400, \"Bad Request\");\n    }\n\n    if (resObj.statusCode === \"403\") {\n      throw new ResasApiError(403, \"Forbidden\");\n    }\n\n    if (resObj === \"404\" || resObj.statusCode === \"404\") {\n      throw new ResasApiError(404, \"Not Found\");\n    }\n\n    return resObj;\n  };\n\n  prefectures = async (): Promise<Prefecture[]> => {\n    const response = await this.get(\"api/v1/prefectures\");\n    return response.result;\n  };\n\n  populationCompositionPerYear = async (\n    prefCode: number,\n    cityCode: string = \"-\",\n    addArea?: { prefCode: number; cityCode?: string }[],\n  ): Promise<Population> => {\n    const params = new URLSearchParams();\n    params.append(\"prefCode\", String(prefCode));\n    params.append(\"cityCode\", cityCode);\n\n    if (addArea) {\n      params.append(\n        \"addArea\",\n        addArea\n          .map(area => {\n            if (area.cityCode) {\n              return `${area.prefCode}_${area.cityCode}`;\n            } else {\n              return `${area.prefCode}_`;\n            }\n          })\n          .join(\",\"),\n      );\n    }\n\n    const response = await this.get(\"api/v1/population/composition/perYear\", params);\n    return response.result;\n  };\n}\n","import { selectorFamily } from \"recoil\";\nimport { resasApiServiceAtom } from \"./resasApiService\";\n\ntype Params = { prefCode: number };\n\nexport const populationSelectorFamily = selectorFamily({\n  key: \"population selector family\",\n  get: ({ prefCode }: Params) => async ({ get }) => {\n    const service = get(resasApiServiceAtom);\n\n    return await service.populationCompositionPerYear(prefCode);\n  },\n});\n","import { selector, selectorFamily, useRecoilValue } from \"recoil\";\nimport { resasApiServiceAtom } from \"./resasApiService\";\n\nconst prefecturesSelector = selector({\n  key: \"prefectures selector\",\n  get: async ({ get }) => {\n    const service = get(resasApiServiceAtom);\n\n    return await service.prefectures();\n  },\n});\n\nexport function usePrefectures() {\n  return useRecoilValue(prefecturesSelector);\n}\n\ntype Params = { prefCode: number };\nexport const prefectureSelectorFamily = selectorFamily({\n  key: \"prefecture selector family\",\n  get: ({ prefCode }: Params) => ({ get }) => {\n    const prefectures = get(prefecturesSelector);\n\n    const prefecture = prefectures.find(pref => pref.prefCode === prefCode);\n\n    if (prefecture === undefined) throw new Error(\"The prefecture was not found.\");\n\n    return prefecture;\n  },\n});\n\nexport function usePrefecture(prefCode: number) {\n  return useRecoilValue(prefectureSelectorFamily({ prefCode }));\n}\n","import { selector, useRecoilValue } from \"recoil\";\nimport { selectedPrefCodesAtom } from \"./selectedPrefCodes\";\nimport { populationSelectorFamily } from \"./populations\";\nimport { prefectureSelectorFamily } from \"./prefectures\";\nimport { ChartData } from \"../models\";\n\nconst chartDataSelector = selector<ChartData[]>({\n  key: \"chart data atom\",\n  get: ({ get }) => {\n    const selectedPrefCodes = get(selectedPrefCodesAtom);\n\n    const populations = selectedPrefCodes.map(prefCode => {\n      const population = get(populationSelectorFamily({ prefCode }));\n      const prefecture = get(prefectureSelectorFamily({ prefCode }));\n\n      return { population: population.data[0].data, prefecture };\n    });\n\n    // 人口データからグラフ用データに変換\n    return populations.reduce<ChartData[]>((prev, current) => {\n      current.population.forEach(populationPerYear => {\n        const targetYear = prev.find(\n          preData => preData.year === populationPerYear.year,\n        );\n\n        if (targetYear) {\n          targetYear[current.prefecture.prefName] = populationPerYear.value;\n        } else {\n          prev.push({\n            year: populationPerYear.year,\n            [current.prefecture.prefName]: populationPerYear.value,\n          });\n        }\n      });\n\n      return prev;\n    }, []);\n  },\n});\n\nexport function useChartData() {\n  return useRecoilValue(chartDataSelector);\n}\n","export const randomColor = () => {\n  return (\n    \"#\" +\n    [0, 1, 2, 3, 4, 5]\n      .map(_ => Math.floor(Math.random() * 0x10).toString(16))\n      .join(\"\")\n  );\n};\n","import {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n} from \"recharts\";\nimport { useChartData } from \"../../state/chartData\";\nimport { randomColor } from \"../../utils/randomColor\";\n\nexport const PopulationChart: React.VFC = () => {\n  const chartData = useChartData();\n\n  return (\n    <ResponsiveContainer width=\"95%\" aspect={1.6}>\n      <LineChart\n        data={chartData}\n        margin={{\n          top: 5,\n          right: 30,\n          left: 20,\n          bottom: 20,\n        }}>\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <XAxis dataKey=\"year\" />\n        <YAxis yAxisId=\"left\" />\n        <Tooltip />\n        <Legend wrapperStyle={{ fontSize: \"calc(6px + 2vmin)\" }} />\n        {chartData[0] &&\n          Object.keys(chartData[0]).map(\n            d =>\n              d !== \"year\" && (\n                <Line\n                  key={d}\n                  yAxisId=\"left\"\n                  type=\"monotone\"\n                  dataKey={d}\n                  stroke={randomColor()}\n                />\n              ),\n          )}\n      </LineChart>\n    </ResponsiveContainer>\n  );\n};\n","import { memo } from \"react\";\nimport { usePrefecture } from \"../../state/prefectures\";\nimport {\n  usePrefCodeIsSelected,\n  useTogglePrefCodeSelected,\n} from \"../../state/selectedPrefCodes\";\nimport styles from \"./styles.module.css\";\n\ntype Props = {\n  prefCode: number;\n};\n\nexport const Prefecture: React.VFC<Props> = memo(({ prefCode }) => {\n  const prefecture = usePrefecture(prefCode);\n  const toggle = useTogglePrefCodeSelected(prefCode);\n  const selected = usePrefCodeIsSelected(prefCode);\n\n  return (\n    <button className={styles.root} data-is-selected={selected} onClick={toggle}>\n      <span>{prefecture.prefName}</span>\n    </button>\n  );\n});\n","import { usePrefectures } from \"../../state/prefectures\";\nimport { Prefecture } from \"../Prefecture\";\nimport styles from \"./styles.module.css\";\n\nexport const Prefectures: React.VFC = () => {\n  const prefectures = usePrefectures();\n\n  return (\n    <div className={styles.gridContainer}>\n      {prefectures.map(prefecture => (\n        <div className={styles.gridItem} key={prefecture.prefCode}>\n          <Prefecture prefCode={prefecture.prefCode} />\n        </div>\n      ))}\n    </div>\n  );\n};\n","import { Suspense } from \"react\";\nimport styles from \"./App.module.css\";\nimport { Fallback } from \"./components/Fallback\";\nimport { PopulationChart } from \"./components/PopulationChart\";\nimport { Prefectures } from \"./components/Prefectures\";\n\nconst App: React.FC = () => {\n  return (\n    <div className={styles.container}>\n      <Suspense fallback={<Fallback />}>\n        <header>\n          <h1>Population Chart</h1>\n        </header>\n        <div className={styles.prefectures}>\n          <Prefectures />\n        </div>\n        <div className={styles.chart}>\n          <Suspense fallback={<Fallback />}>\n            <PopulationChart />\n          </Suspense>\n        </div>\n      </Suspense>\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\",\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\",\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\"No internet connection found. App is running in offline mode.\");\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { StrictMode, Suspense } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { RecoilRoot } from \"recoil\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <StrictMode>\n    <RecoilRoot>\n      <App />\n    </RecoilRoot>\n  </StrictMode>,\n  document.getElementById(\"root\"),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__1MQN3\",\"chart\":\"App_chart__IfTIi\"};"],"sourceRoot":""}